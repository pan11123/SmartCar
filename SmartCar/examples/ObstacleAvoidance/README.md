# 智能小车动态避障示例

## 功能说明

本示例展示了如何使用SmartCar库实现智能小车的动态避障功能。与简单的避障不同，动态避障能够实时检测障碍物边缘，实现更智能的绕障行为。

小车在检测到前方障碍物后，会执行以下操作：
1. 停止并短暂后退
2. 检测左右两侧障碍物情况
3. 选择空间较大一侧进行90度转弯
4. 小步前进并持续检测原障碍物方向的距离
5. 当检测到障碍物边缘（距离突然变大）时，再次转弯回到原来行进方向
6. 继续前进

这种方法不依赖固定的绕行时间，而是实时检测障碍物的形状和大小，使小车能够适应各种不同形状和大小的障碍物。

## 硬件连接

### 电机连接
- 左电机前进引脚：5 (PWM)
- 左电机后退引脚：9 (PWM)
- 右电机前进引脚：6 (PWM)
- 右电机后退引脚：10 (PWM)

### 超声波传感器连接
- 触发引脚：A4
- 回声引脚：A5

### 舵机连接
- 信号引脚：2

## 参数说明

- `SAFE_DISTANCE`：安全距离，当检测到前方障碍物距离小于此值时，触发避障（默认30厘米）
- `SPIN_TIME_90_DEGREE_LEFT`：左转90度所需时间（单位：100ms）
- `SPIN_TIME_90_DEGREE_RIGHT`：右转90度所需时间（单位：100ms）

## 调试技巧

1. 如果小车转弯角度不精确，可以调整`SPIN_TIME_90_DEGREE_LEFT`和`SPIN_TIME_90_DEGREE_RIGHT`参数
2. 如果小车对障碍物的检测不够灵敏，可以调整`SAFE_DISTANCE`参数
3. SmartCar库中的`dynamicAvoidObstacle`方法内部参数也可以调整：
   - `MIN_MOVE_COUNT`：最小前进步数，确保小车至少前进一定距离
   - `MAX_MOVE_COUNT`：最大前进步数，防止无限循环
   - 距离判断系数（`safeDistance * 1.5`）：识别障碍物边缘的阈值

## 重要提示

1. 确保超声波传感器安装牢固，且能随舵机正常转动
2. 不同地形和障碍物材质可能影响超声波传感器的检测效果
3. 在复杂环境中使用时，可能需要调整参数以获得最佳效果